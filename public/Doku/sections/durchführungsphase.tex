\subsection{Auswahl von Libraries}
\label{sec:Durchführungsphase:AuswahlVonLibraries}

Bei der Auswahl der Libraries wurden einige Aspekte besonders berücksichtigt:

\begin{itemize}
    \item Lizenz\\
    Die Lizenz der Library muss die Nutzung im konkreten Kontext erlauben. Darunter gelten z.B. die GNU oder MIT Lizenzen
    \item Beliebtheit\\
    Für die Beliebtheit wurde sich an den Metriken der wöchentlichen Downloads bedient. Je beliebter eine Library ist, desto höher ist die Wahrscheinlichkeit, dass sie langfristig weiter gepflegt wird.
    \item Dependencies\footnote{engl. Abhängigkeiten, weitere einzubindende Pakete, ohne die die gegebene Library nicht funktioniert}\\
	Die Anzahl und Art der Dependencies der Library ist ein nicht unwesentlicher Faktor. Eine Library, welche weniger Dependencies beinhaltet, kann besser eingesetzt werden. So kann man besser kontrollieren welcher Code in das Projekt gelangt.
	\item Schwachstellen\\
	Die Sicherheit der Library ist einer der wichtigsten Punkte. Daher ist es ratsam, eine Library mit weniger Dependencies zu verwenden, da diese weniger Risikopotential bietet. Sollten dennoch Schwachstellen vorhanden sein, müssen diese risikoarm sein.
\end{itemize}

\subsection{Versionierung}

In der Abteilung für Softwareentwicklung wird \gl{git} zur Versionsverwaltung eingesetzt. \gl{git} wurde 2005 veröffentlicht und ist heute de facto Industriestandard. Auch für dieses Projekt wird \gl{git} eingesetzt.

\subsection{Aufgabenaufteilung/Aufgabenmanagement}

Als Vorgehensmodell wurde das Kanbanboard gewählt, da dieses hauptsächlich im Softwareentwicklungsteam verwendet wird. Die Anforderungen wurden in Aufgaben (Tasks) unterteilt und grob priorisiert, dazu wurde das Online-Webtool \gl{miro} zur Visualisierung der Tasks und deren Status verwendet.
Ein Auszug des \sct{sec:Anhang:KanbanBoard}{Kanbanboards} ist im Anhang zu finden.

\subsection{Vorbereitung des Applikationsgrundgerüsts}

Zunächst wurde das Grundgerüst der Anwendung vorbereitet. Dazu wurde ein \gl{git}-Repository angelegt. Im Repository wurden zwei Hauptverzeichnisse angelegt: Backend und Frontend. Im Backend-Verzeichnis befindet sich das \gl{JS}-Projekt der Backend-Applikation, im Frontend-Verzeichnis das mit \gl{vite} erstellte \gl{React} \gl{JS}-Projekt. Außerdem befinden sich im Hauptverzeichnis die .gitignore-Datei zum Ausschließen von Dateien aus dem \gl{git}-Repository. Eine .env-Datei mit zugehöriger .env.sample-Datei. Das Frontend, Backend und die Datenbank laufen in Containern. Docker ist eine Software zur Isolierung von Anwendungen in solchen Containern. Für die Umsetzung werden die notwendigen Dateien docker-compose.yml und Dockerfile benötigt.

\subsection{Implementierung Backendapplikation}

Nachdem das Grundgerüst der Anwendung erstellt war, wurde mit der Implementierung der Backend-Anwendung begonnen. Dabei wurde zunächst die Berechnungslogik der Pauschalen in den Fokus genommen (Ein Ausschnitt einer Funktion ist im Anhang unter \sct{sec:Anhang:Berechnungs-Ausschnitt}{Berechnungs-Ausschnitt} zu finden), da diese Berechnungsgrundlagen bereits in der \gl{MED} vorlagen und somit einfach analysiert und in Programmcode umgesetzt werden konnten. Danach wurde mit einer einfachen \gl{REST}-\gl{API} begonnen, die dann im Laufe der Implementierung der \gl{SPA} immer wieder an die konkreten Anforderungen angepasst wurde. Mit den entstehenden Endpoints für das Frontend wurde parallel auch die Backend-Logik für die \gl{CRUD}-Operationen entwickelt. Bei der Implementierung einer solch umfangreichen Anwendung wird fast immer auf externe Bibliotheken zurückgegriffen.

Auch intern entwickelte DTS-Libraries werden genutzt, wie beispielsweise der dts-node-oidc-client für interne Anwendungen, welche den hauseigenen \gl{IDP} nutzen und der dts-node-logger, ein erweiterter Logger für Node.js-Anwendungen, der speziell für DTS-Produkte verwendet wird.

Im Anhang befindet sich unter \sct{sec:Anhang:Libraries:Backend}{Libraries (Backend)} eine detaillierte Übersicht über die verwendeten Bibliotheken.

\subsection{Implementierung Single-Page-Application}

Nach Fertigstellung des Großteils der \gl{API} im Backend wurde mit der Implementierung der \gl{SPA} begonnen. Dabei wurden die unternehmensinternen Stylingrichtlinien und die entsprechende Vorlage verwendet, um das Projekt gemäß den Vorgaben zu gestalten. Im Anhang befindet sich unter \sct{sec:Anhang:Libraries:Frontend}{Libraries (Frontend)} eine detaillierte Übersicht über die verwendeten Libraries.

\subsection{Implementierung Chatbot}
Nachdem nun die \gl{CRUD}-Services und das Frontend grob vorhanden waren, wurde mit der Implementation der Chatbot Logik begonnen. Das Backend erhält nun Informationen wie im Abschnitt \sct{sec:ModelleDatenstruktur:ChatbotDatenstrukturLogik}{Chatbot Datenstruktur und Logik} beschrieben. Diese Informationen werden dann an die Services gesendet wie z.B. der Service, welcher die nächste Frage ermitteln soll (Ein Quellcode Ausschnitt ist unter \sct{sec:Anhang:Chatbot-Ausschnitt}{Chatbot-Quellcode} zu finden).  Im gleichen Schritt speichert das Backend die Änderung am Chat. Entscheidet sich der \gl{MA} die \gl{RA} freizugeben, zu Beginn wird der Chat ausgewertet. Mit diesen ausgewerteten Daten werden Berechnungen durchgeführt, die angezeigt werden können.
\subsection{Verbindung zum IdP}

Bei jeder Anfrage an das Backend wird mithilfe einer Authentifizierungs-Middleware geprüft, ob der mitgesendete \gl{jwt} valide ist. Falls nicht, wird der Nutzer auf die Login-Seite des \gl{IDP} geleitet (Ausschnitt davon kann im Anhang unter \sct{sec:Anhang:IdP-Login}{IdP-Login} eingesehen werden), wo er sich authentifizieren muss. Sobald dies stattgefunden hat, wird der Nutzer zurück zum Travel-Assistant mit einem \gl{jwt} geleitet. Dieser \gl{jwt} enthält wichtige Informationen wie Vor- und Nachname, E-Mail-Adresse und Nutzerrollen. Diese Informationen werden genutzt, um das Frontend entsprechend auszurichten.

\subsection{Testing}

Nachdem die Berechnungslogik implementiert wurde, muss diese aufgrund des susdrücklichen Kundenwunsches ausgiebig getestet werden. Hierfür wurde \gl{jest} benutzt. Ein Auszug eines Unittest ist im Anhang unter \sct{sec:Anhang:Unittest-Ausschnitt}{Unittest-Ausschnitt} zu finden.

Nachdem eine lauffähige Version vorhanden war, wurde diese mithilfe eines Außendienst \gl{MA} auf Funktionalität getestet und um Feedback einzuholen.